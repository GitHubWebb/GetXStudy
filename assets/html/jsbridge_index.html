<html>

<head>
    <meta name="viewport"
        content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no minimal-ui" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache,no-store, must-revalidate">
    <meta HTTP-EQUIV="pragma" CONTENT="no-cache">
    <meta HTTP-EQUIV="expires" CONTENT="0">
    <title>Webview页面标题</title>
    <script src="jsbridge.js"></script>
    <script type="text/javascript">

        function jsCallNative() {
            var message = {
                "type": "reply",
                "message": "this is a message from js"
            };

            var jsonString = JSON.stringify(message);

            var jsBridge = new JSBridge();

            var res = jsBridge.request('/test', { message: jsonString });
        }

        const unsubscribe = jsBridge.subscribe('test', (params) => {
            console.log('web收到一条订阅消息：eventName=test, params=', params);
            var message = params;
            document.getElementById("result").innerText = message;
            return "Hello,Native!";
        });

    </script>
</head>

<body>
    Hello,jsBridge!<br />
    <span id="result">

    </span><br />
    <button onclick="jsCallNative()">JS call Native</button><br />
</body>

</html>